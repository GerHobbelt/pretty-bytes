{"version":3,"file":"pretty-bytes.umd.js","sources":["../src/index.js"],"sourcesContent":["'use strict';\n\nconst UNITS = [\n\t'B',\n\t'kB',\n\t'MB',\n\t'GB',\n\t'TB',\n\t'PB',\n\t'EB',\n\t'ZB',\n\t'YB'\n];\n\n/*\nFormats the given number using `Number#toLocaleString`.\n- If locale is a string, the value is expected to be a locale-key (for example: `de`).\n- If locale is true, the system default locale is used for translation.\n- If no value for locale is specified, the number is returned unmodified.\n*/\nconst toLocaleString = (number, locale) => {\n\tlet result = number;\n\tif (typeof locale === 'string') {\n\t\tresult = number.toLocaleString(locale);\n\t} else if (locale === true) {\n\t\tresult = number.toLocaleString();\n\t}\n\n\treturn result;\n};\n\nexport default (number, options) => {\n\tif (!Number.isFinite(number)) {\n\t\tthrow new TypeError(`Expected a finite number, got ${typeof number}: ${number}`);\n\t}\n\n\toptions = Object.assign({}, options);\n\n\tif (options.signed && number === 0) {\n\t\treturn ' 0 B';\n\t}\n\n\tconst isNegative = number < 0;\n\tconst prefix = isNegative ? '-' : (options.signed ? '+' : '');\n\n\tif (isNegative) {\n\t\tnumber = -number;\n\t}\n\n\tif (number < 1) {\n\t\tconst numberString = toLocaleString(number, options.locale);\n\t\treturn prefix + numberString + ' B';\n\t}\n\n\tconst exponent = Math.min(Math.floor(Math.log10(number) / 3), UNITS.length - 1);\n\tnumber = Number((number / (1000 ** exponent)).toPrecision(3));\n\tconst numberString = toLocaleString(number, options.locale);\n\n\tconst unit = UNITS[exponent];\n\n\treturn prefix + numberString + ' ' + unit;\n};\n"],"names":["const","let","numberString"],"mappings":";;;;;CAEAA,IAAM,QAAQ,CACb,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA;CASDA,IAAM,2BAAkB,MAAQ,EAAA,QAAT;KACtBC,IAAI,SAAS;KACb,IAAI,OAAO,MAAP,KAAkB,UAAU;SAC/B,MAAA,GAAS,MAAA,CAAO,cAAP,CAAsB;YACzB,IAAI,MAAA,KAAW,MAAM;SAC3B,MAAA,GAAS,MAAA,CAAO,cAAP;;KAGV,OAAO;;AAGR,iBAAgB,MAAQ,EAAA,SAAT;KACd,IAAI,CAAC,MAAA,CAAO,QAAP,CAAgB,SAAS;SAC7B,MAAM,IAAI,SAAJ,sCAA+C,OAAO,iBAAW;;KAGxE,OAAA,GAAU,MAAA,CAAO,MAAP,CAAc,IAAI;KAE5B,IAAI,OAAA,CAAQ,MAAR,IAAkB,MAAA,KAAW,GAAG;SACnC,OAAO;;KAGRD,IAAM,aAAa,MAAA,GAAS;KAC5BA,IAAM,SAAS,UAAA,GAAa,MAAO,OAAA,CAAQ,MAAR,GAAiB,MAAM;KAE1D,IAAI,YAAY;SACf,MAAA,GAAS,CAAC;;KAGX,IAAI,MAAA,GAAS,GAAG;SACfA,IAAME,iBAAe,cAAA,CAAe,QAAQ,OAAA,CAAQ;SACpD,OAAO,MAAA,GAASA,cAAT,GAAwB;;KAGhCF,IAAM,WAAW,IAAA,CAAK,GAAL,CAAS,IAAA,CAAK,KAAL,CAAW,IAAA,CAAK,KAAL,CAAW,OAAX,GAAqB,IAAI,KAAA,CAAM,MAAN,GAAe;KAC7E,MAAA,GAAS,MAAA,EAAQ,MAAA,cAAU,IAAA,EAAQ,aAAW,WAA9B,CAA0C;KAC1DA,IAAM,eAAe,cAAA,CAAe,QAAQ,OAAA,CAAQ;KAEpDA,IAAM,OAAO,KAAA,CAAM;KAEnB,OAAO,MAAA,GAAS,YAAT,GAAwB,GAAxB,GAA8B;;;;;;;;;;;;"}